# Modular CA

Modular CA is a certificate authority program written in C# that aims to provide
all common CA features in a free package. The current aim of the project is to
implement ACME features to allow internal services to renew their certificates.

The current frontend is written in React with TypeScript. Only the admin frontend
has any work done, and it is rudimentary and for viewing only.

## This program is still in development
- There is no current release for production.
- All the current code is in testing. As such, a lot of sensitive data is output.
- This is currently being developed by a single person.
- The speed and attainability of a feasible release depends on contributions.

The goal is to provide a strong foundation to receive further development support.
With this in mind, a lot of the features will be focused on the backend.

## Current Features
- Simple certificate request and signing via the development API.
- Bootstrap a MySQL/MariaDB database with tables and necessary entries.
- Generate a system CA cert for internal functions and file signing.
- Generate a default CA cert for all certificate signing functions.
- Generate a custom keystore that signs all entries with the system and default CA cert for integrity.
- Double sign the final custom keystore file for additional integrity.
- Store the keystore password in two parts - half in the database, half in a file.

## Next steps
- Clean up the code to consolidate methods.
- Make the code more readable and explain the layout of the program.
- Add Revocation API testing endpoint
- Add CRL schedule generation and testing endpoint
- Add endpoint to retrieve CA cert(s) and CRLs

## Reasoning
There is a low amount of competition and open source CA projects. A lot of the great CA features
are only available in commercial or paid subscription products. By developing a new application 
with those features already being free in mind, Modular CA aims to provide a product that can
compare with commercial solutions.

## Development

Contributors are welcomed! Any feature requests are also welcomed.

 Visual Studio is currently being used for coding. 
DotNet 8.0 is needed to construct the API.
[Node.js](https://nodejs.org/en/download) v22 is being used for frontend development.

## Secure By Design Principles
A lot of the features being implemented are aimed at a secure by design format. Some of these features include:
- In-memory private key processing without storing the plain private key in the filesystem.
- Two-layer keystore unlocking process increasing the amount of work and access a threat actor needs.
- Private keys generated by the program for a certificate signing request are encrypted with the system certificate.
- Private keys part of a signed certificate are decrypted and re-encrypted with the signing CA certificate.
- keystore anti-tampering entry and file signing.

Features that are planned to be explored and added include:
- Keystore loading only when in use, and unloading after use.
- Database connection creation on use and destruction after use.

### Growth
Some things done or planned may not make sense. Please provide input on any processes that seem unnecessary,
insecure, or confusing. Right now the Certificate Profile and the Signing Profile seem to be sharing properties
that only one or the other should have. This would be a good example of an issue to bring up.